#!/usr/bin/env ruby

screen_width = Integer(`tput cols`)
strs = []
strs << $_.strip while gets
width = strs.lazy.map(&:size).max + 1
n_col = screen_width / width
n_row = (1.0 * strs.size / n_col).ceil

table = Array.new(n_row){ [] }
while strs.size > 0
  n_row.times do |row_ix|
    table[row_ix] << strs.shift
  end
end

table.each do |row|
  row.each do |cell|
    print cell.ljust(width) if cell
  end
  puts
end

# vim: ft=ruby
